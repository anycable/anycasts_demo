<% # locals: (channel:, message: Message.new) %>
<turbo-frame id="<%= dom_id(channel, :form) %>" class="sticky bottom-0 p-2 border-gray-400 bg-gray-100 rounded-md mt-4 mr-4">
  <%= form_for [channel, message], html: {class: "flex flex-row" } do |f| %>
    <%= f.text_field :content, placeholder: "Message", class: "border-none flex-grow mr-2 px-2", autocomplete: "off", required: true %>
    <%= f.button "Send", type: "submit", class: "rounded py-2 px-5 bg-red-600 text-white inline-block cursor-pointer hover:bg-red-500 transition-colors disabled:bg-red-100 disabled:cursor-no-allowed" %>
    <% if message.errors.any? %>
      <div class="absolute top-[-20px] -translate-y-full text-sm text-red-600 bg-white p-2 rounded shadow-lg border border-red-200 mb-2 animate-[wiggleOut_1s_ease-in-out]" data-controller="clearer" data-action="animationend->clearer#remove">
        <% message.errors.full_messages.each do |error| %>
          <div><%= error %></div>
        <% end %>
      </div>
    <% end %>
  <% end %>
<turbo-frame>
