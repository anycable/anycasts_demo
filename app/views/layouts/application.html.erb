<!DOCTYPE html>
<html>
  <head>
    <title>AnycastsDemo</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel='icon' type='image/png' href='/favicon-32x32.png' sizes='32x32'>
    <link rel='icon' type='image/png' href='/favicon-16x16.png' sizes='16x16'>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= action_cable_with_jwt_meta_tag(user: current_user) if current_user %>
    <meta name="action-cable-history-timestamp" content="<%= Time.now.to_i %>">
    <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body class="bg-gray-100">
    <main>
      <%- if current_user -%>
        <nav class="absolute right-2 top-2 p-6">
          <%= form_tag logout_path, method: :delete, data: {turbo: false}, class: "flex items-center" do %>
            <span class="u-<%= current_user.color %>">@<%= current_user.username %></span>
            <%=
              button_tag type: :submit, class: "text-black hover:text-red no-underline" do %>
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="ml-2 w-5 h-5">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9" />
                </svg>
              <% end %>
          <% end %>
        </nav>
      <%- end -%>
      <%= yield %>
    </main>
  </body>
</html>
